---
title: firewall 类型与基本原理
tags: ComputerSecurity
---
## 防火墙 - 网络安全的第一道防线

### 防火墙的基本职能
* 作为网络上个主机之间的隔离器

### 防火墙的工作原理
* 对**通过其的流量**加以一定的限制
* 制定不同的策略达到不同的安全需求
* 可以同时对内部流量进行分析

### 防火墙的缺点
* 导致网络拥塞甚至正常的网络流量难以发送
* 复杂的策略难以管理
* 只有流量通过它才会生效


### 防火墙的种类
#### 按照技术分
* packet filter(包过滤)
    * 工作在**网络层**，通过对ip包头部信息进行识别，不对里面**内容**进行检查，安全功能有限
    * 检查内容包括源地址，目的地址，协议种类，源端口，目的端口等
    * 存在一条默认策略是丢弃所有流量包（与要求有关
    * 优势，速度快，廉价，
* proxy services(代理)
    * 代理技术，在应用层工作，在防火墙的应用曾进行检测，可以在应用层提供复杂的检测手段。
    * 速度慢，工作层次高，一些应用程序并不支持
* stateful inspection(状态检测)
    * 前两种的一种折中
    * 维护一个状态连接表，可以通过一个连接下的流量决定放行或不放行
    * 一般是tcp, UDP需要特殊的策略
    * 考虑如何防止 syn flood attack
    * 缺点，网络延迟，
    * 深度包检测，自行应代理
* VPN

#### 按照部署模式
* 屏蔽路由器
    * 使用路由器，一般提供包过滤功能
* 双宿主机网关
    * 使用一台双网卡的主机-堡垒主机
    * 与堡垒主机的安全息息相关
* 屏蔽主机网关
    * 双宿主机堡垒主机前再加路由器
    * 堡垒主机行代理服务器功能
    * 简单，适合低风险网络
* 屏蔽子网
    * 双宿主机堡垒主机前后加路由器形成一块缓冲区域-DMZ(非军事区)
    * 非军事化区可能包括web等服务
    * 复杂但安全

#### 按照实施方式
* 基于主机网络的防火墙
* 基于路由器的防火墙
* 基于单个主机的防火墙
    * 如windows 防火墙，以及Linux提供的iptables等
* 硬件防火墙
